{% extends "bibtool/base.html" %}
{% load static %}

{% block nav-home %}active{% endblock %}

{% block title %}
    CfA Publication Reports
{% endblock %}

{% block body %}

{% if state == "register" %}

    <div class="container">

        <br/>
        <h3>Register a New Account</h3>
        <br/>

        <div class="row">
            <div class="col-1">        
            </div>
            <div class="col-4">

                {% if error != "" %}
                <div class="alert alert-danger" role="alert">
                    {{error | safe}}
                </div>
                {% endif %}

                <form action="{% url 'registering' %}" method="post">
                    {% csrf_token %}
                    <div class="form-group">
                        <label for="inputUsername">Username</label>
                        <input type="username" class="form-control" id="inputUsername" name="inputUsername" placeholder="Enter Username">
                    </div>
                    <div class="form-group">
                        <label for="inputFirst">First Name</label>
                        <input type="First" class="form-control" id="inputFirst" name="inputFirst" placeholder="Enter First Name">
                    </div>
                    <div class="form-group">
                        <label for="inputLast">Last Name</label>
                        <input type="Last" class="form-control" id="inputLast" name="inputLast" placeholder="Enter Last Name">
                    </div>
                    <div class="form-group">
                        <label for="inputEmail">Email</label>
                        <input type="Email" class="form-control" id="inputEmail" name="inputEmail" placeholder="Enter Email">
                    </div>
                    <div class="form-group">
                        <label for="inputPassword">Password</label>
                        <input type="password" class="form-control" id="inputPassword" name="inputPassword" placeholder="Password">
                        <small id="userHelp" class="form-text text-muted">Username and Password are case sensitive.</small>
                        <small id="userHelp" class="form-text text-muted">All fields required.</small>
                    </div>

                    <button type="submit" class="btn btn-primary">Submit</button>
                </form>
                <br/>

            </div>
        </div>
    </div>

    {% elif state == "login" %}


    <div class="container">

        <br/>
        <h3>Log In to Your Account</h3>
        <br/>

        <div class="row">
            <div class="col-1">

                </div>
            <div class="col-4">

                {% if error != "" %}
                <div class="alert alert-danger" role="alert">
                    {{error | safe}}
                </div>
                {% endif %}

                <form action="{% url 'login_view' %}" method="post">
                    {% csrf_token %}
                    <div class="form-group">
                        <label for="inputUsername">Username</label>
                        <input type="username" class="form-control" id="inputUsername" name="inputUsername" placeholder="Enter Username">
                    </div>
                    <div class="form-group">
                        <label for="inputPassword">Password</label>
                        <input type="password" class="form-control" id="inputPassword" name="inputPassword" placeholder="Password">
                        <small id="userHelp" class="form-text text-muted">Username and Password are case sensitive.</small>
                    </div>

                    <button type="submit" class="btn btn-primary">Submit</button>
                </form>
                <br/>
                <a href="/register">Register</a>

            </div>
        </div>
    </div>

    {% elif state == "loggedin" %}

        <div id="home" class="container">
        
    <br />
    <h1>CfA Publication Reports</h1>

    <div class="row">

        <div class="col-7">

            <br/>
            <h3>Hi {{first}}!</h3>
            <br/>
            As a CfA department administrator, you can use this website to generate publication reports for the researchers and authors of your department.
            <br/><br/>
            Please review the "<a href="/help">Help</a>" page for instructions on how to get started.
            <br><br>
            The Publications Reports project is developed and supported by the <a href="http://library.cfa.harvard.edu">Wolbach Library</a>.  Email Katie Frey (kfrey@cfa.harvard.edu) if you have any question.

        </div>

    </div>

</div>


    {% else %}


<div id="home" class="container">
        
    <br />
    <h1>CfA Publication Reports</h1>

    <div class="row">

        <div class="col-7">

            <br/>
            <h3>Welcome!</h3>
            <br/>
            This website was designed for CfA departmental adminstrators to generate publication reports.  If you think you should have access, please reach out to <a href="/about">Katie Frey</a>.
            <br><br>
            Publications Reports project is developed and supported by the <a href="http://library.cfa.harvard.edu">Wolbach Library</a>.
        </div>

    </div>

</div>
{% endif %}
{% endblock %}